---
import PageLayout from '../layouts/PageLayout.astro';
import { loadPageBySlug } from '../lib/content/adapter';

// Astro provides params as possibly undefined; cast to string for type safety
const slug = Astro.params.slug as string;
const page = await loadPageBySlug(slug);

if (!page) {
  return new Response(null, {
    status: 404,
    statusText: 'Page not found',
  });
}
---

<PageLayout page={page} />

